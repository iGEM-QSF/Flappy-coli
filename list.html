<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Flappy Coli</title>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <link rel="stylesheet" type="text/css" href="styles.css">
  </script>
</head>

<body>
<h1>High scores</h1>

<div class="container-fluid list">
    <div class="row">
        <div class="col-md-8 col-md-offset-2 col-container">
            <div class="row">
                <div class="col-md-6 col1">
                </div>
                <div class="col-md-6 col2">
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
  $.ajax({
    type: "GET",
    url: "http://178.62.199.13/highscores/",
    contentType: "application/json",
    success: function(data) {
      for (var i = 0; i < data.length; i++) {
        if(i < data.length / 2){
          if(i < 10){
            createHTML(data[i], 1, true);
          } else {
            createHTML(data[i], 1, false);
          }
        } else {
          createHTML(data[i], 2);
        }
      };
    },
    error: function(jqXHR) {
      console.log(jqXHR);
      console.log("ERROR! DATA NOT RECEIVED");
    }
  });

  function createHTML(data, col, top){
    if(top){
      var player = $('<div/>', {
        class: 'player row top'
      });
    } else {
      var player = $('<div/>', {
        class: 'player row'
      });
    }

    var name = $('<div/>', {
      class: 'playerName col-md-8',
      text: data.ranking + ". " + data.player_name
    });

    var score = $('<div/>', {
      class: 'score col-md-4',
      text: data.score
    });

    if(col == 1){
      $(".col1").append(player);
    } else {
      $(".col2").append(player);
    }
    player.append(name);
    player.append(score);

  }
</script>

</body>

</html>